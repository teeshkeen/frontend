{"ast":null,"code":"import React from'react';import{useState,useEffect}from'react';import{sendEmail}from'../../shared/utils/send';import FormButton from'./ui/FormButton';import Modal from'../../shared/ui/Modal';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const GetInTouch=()=>{const[formData,setFormData]=useState({name:'',phone:''});const[formSubmit,setFormSubmit]=useState(false);const[showModal,setShowModal]=useState(false);const[isChecked,setIsChecked]=useState(false);const isFormDataComplete=()=>{const{name,phone}=formData;return name.trim()!==''&&phone.trim()!==''&&isChecked===true;};useEffect(()=>{console.log(isFormDataComplete(),isFormDataComplete());if(isFormDataComplete()){setFormSubmit(true);}else if(formSubmit&&!isFormDataComplete()){setFormSubmit(false);}},[formData,isChecked]);const handleChange=event=>{const{name,value}=event.target;setFormData(state=>({...state,[name]:value}));};const handleCheckboxChange=event=>{setIsChecked(event.target.checked);};const handleSubmit=()=>{const content=`\n    Новая заявка на обратную связь!\n\n    Имя: ${formData.name}\n    Номер телефона: ${formData.phone}\n    `;sendEmail({content});setShowModal(true);setFormData({name:'',phone:''});setIsChecked(false);console.log('sended');setTimeout(()=>{setShowModal(false);},5000);};return/*#__PURE__*/_jsxs(\"div\",{id:\"getintouch\",className:\"flex flex-col bg-white rounded-md max-w-80 mx-auto text-center justify-center p-10 shadow-md mb-14 768:block 768:max-w-full 768:rounded-lg 768:mb-24 768:py-12 960:max-w-get-in-touch \",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-gilroyMedium mb-2 768:text-3xl\",children:\"\\u041E\\u0441\\u0442\\u0430\\u0432\\u044C\\u0442\\u0435 \\u0437\\u0430\\u044F\\u0432\\u043A\\u0443\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-base font-gilroyLight leading-5 mb-5 768:text-xl\",children:\"\\u041D\\u0430\\u0448\\u0438 \\u0441\\u043F\\u0435\\u0446\\u0438\\u0430\\u043B\\u0438\\u0441\\u0442\\u044B \\u0441\\u0432\\u044F\\u0436\\u0443\\u0442\\u0441\\u044F \\u0441 \\u0432\\u0430\\u043C\\u0438 \\u0447\\u0435\\u0440\\u0435\\u0437 \\u043D\\u0435\\u0441\\u043A\\u043E\\u043B\\u044C\\u043A\\u043E \\u043C\\u0438\\u043D\\u0443\\u0442\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col mb-5 items-center\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"space-y-2 768:max-w-md\",name:\"get-in-touch\",action:\"\",onSubmit:e=>e.preventDefault(),children:[/*#__PURE__*/_jsx(\"input\",{name:\"name\",className:\"p-3 bg-white w-full rounded-lg outline-none shadow-lg\",id:\"name\",type:\"text\",placeholder:\"\\u0418\\u043C\\u044F\",onChange:handleChange,value:formData.name}),/*#__PURE__*/_jsx(\"input\",{name:\"phone\",className:\"p-3 bg-white w-full rounded-lg outline-none shadow-lg\",id:\"phone\",type:\"phone\",placeholder:\"\\u0422\\u0435\\u043B\\u0435\\u0444\\u043E\\u043D\",onChange:handleChange,value:formData.phone})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-center items-center text-left mb-5 space-x-2 768:mb-10\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"flex border-transparent focus:border-transparent focus:ring-0 w-4 h-4 text-white bg-gray-100 border-gray-300 rounded accent-clickable-active  dark:focus:ring-blue-600 dark:ring-offset-gray-800 dark:bg-gray-700 dark:border-gray-600\",type:\"checkbox\",id:\"check-box\",checked:isChecked,onChange:handleCheckboxChange}),/*#__PURE__*/_jsx(\"label\",{className:\"text-base font-gilroyLight leading-5 \",for:\"check-box\",children:\"\\u042F \\u0441\\u043E\\u0433\\u043B\\u0430\\u0441\\u0435\\u043D \\u0441 \\u043F\\u043E\\u043B\\u0438\\u0442\\u0438\\u043A\\u043E\\u0439 \\u043A\\u043E\\u043D\\u0444\\u0438\\u0434\\u0435\\u043D\\u0446\\u0438\\u0430\\u043B\\u044C\\u043D\\u043E\\u0441\\u0442\\u0438\"})]}),/*#__PURE__*/_jsx(FormButton,{text:\"\\u041E\\u0442\\u043F\\u0440\\u0430\\u0432\\u0438\\u0442\\u044C\",fun:handleSubmit,disabled:formSubmit}),showModal&&/*#__PURE__*/_jsx(Modal,{message:\"\\u0412\\u0430\\u0448\\u0430 \\u0437\\u0430\\u044F\\u0432\\u043A\\u0430 \\u0443\\u0441\\u043F\\u0435\\u0448\\u043D\\u043E \\u043E\\u0442\\u043F\\u0440\\u0430\\u0432\\u043B\\u0435\\u043D\\u0430!\",onClose:()=>setShowModal(false)})]});};export default GetInTouch;","map":{"version":3,"names":["React","useState","useEffect","sendEmail","FormButton","Modal","jsx","_jsx","jsxs","_jsxs","GetInTouch","formData","setFormData","name","phone","formSubmit","setFormSubmit","showModal","setShowModal","isChecked","setIsChecked","isFormDataComplete","trim","console","log","handleChange","event","value","target","state","handleCheckboxChange","checked","handleSubmit","content","setTimeout","id","className","children","action","onSubmit","e","preventDefault","type","placeholder","onChange","for","text","fun","disabled","message","onClose"],"sources":["/root/frontend/src/features/get-in-touch/GetInTouch.jsx"],"sourcesContent":["import React from 'react'\nimport { useState, useEffect } from 'react';\nimport { sendEmail } from '../../shared/utils/send';\nimport FormButton from './ui/FormButton';\nimport Modal from '../../shared/ui/Modal';\nconst GetInTouch = () => {\n    const [formData, setFormData] = useState({\n        name: '',\n        phone: '',\n    });\n    const [formSubmit, setFormSubmit] = useState(false);\n    const [showModal, setShowModal] = useState(false);\n    const [isChecked, setIsChecked] = useState(false);\n\n    const isFormDataComplete = () => {\n        const { name, phone } = formData;\n        return (\n            name.trim() !== '' &&\n            phone.trim() !== '' &&\n            isChecked === true\n        )\n    };\n\n    useEffect(() => {\n        console.log(isFormDataComplete(), isFormDataComplete())\n        if (isFormDataComplete()) {\n            setFormSubmit(true);\n        } else if (formSubmit && !isFormDataComplete()) {\n            setFormSubmit(false);\n        }\n    }, [formData, isChecked]);\n\n\n\n    const handleChange = (event) => {\n        const { name, value } = event.target;\n        setFormData((state) => ({\n            ...state,\n            [name]: value,\n        }));\n    };\n    const handleCheckboxChange = (event) => {\n        setIsChecked(event.target.checked);\n    };\n\n\n    const handleSubmit = () => {\n        const content = `\n    Новая заявка на обратную связь!\n\n    Имя: ${formData.name}\n    Номер телефона: ${formData.phone}\n    `;\n        sendEmail({ content });\n        setShowModal(true);\n        setFormData({ name: '', phone: ''});\n        setIsChecked(false);\n        console.log('sended');\n        setTimeout(() => {\n            setShowModal(false);\n        }, 5000);\n    };\n    \n    return (\n        <div id='getintouch' className='flex flex-col bg-white rounded-md max-w-80 mx-auto text-center justify-center p-10 shadow-md mb-14\n        768:block\n        768:max-w-full 768:rounded-lg 768:mb-24 768:py-12\n        960:max-w-get-in-touch\n        '>\n            <div className=\"text-2xl font-gilroyMedium mb-2 768:text-3xl\">Оставьте заявку</div>\n            <div className='text-base font-gilroyLight leading-5 mb-5 768:text-xl'>Наши специалисты свяжутся с вами через несколько минут</div>\n            <div className=\"flex flex-col mb-5 items-center\">\n\n                <form className='space-y-2 768:max-w-md' name='get-in-touch' action=\"\" onSubmit={e => e.preventDefault()}>\n                    <input name='name' className='p-3 bg-white w-full rounded-lg outline-none shadow-lg' id='name' type=\"text\" placeholder='Имя' onChange={handleChange}\n                    value={formData.name}/>\n                    <input name='phone' className='p-3 bg-white w-full rounded-lg outline-none shadow-lg' id='phone' type=\"phone\" placeholder='Телефон' onChange={handleChange}\n                    value={formData.phone}/>\n                    {/* <button form='get-in-touch' type='submit' onClick={handleSubmit}>ASdasdasd</button> */}\n                </form>\n\n            </div>\n\n\n            <div className=\"flex justify-center items-center text-left mb-5 space-x-2 768:mb-10\">\n                <input className='flex border-transparent focus:border-transparent focus:ring-0\n                w-4 h-4 text-white bg-gray-100 border-gray-300 rounded accent-clickable-active  dark:focus:ring-blue-600 dark:ring-offset-gray-800 dark:bg-gray-700 dark:border-gray-600' type=\"checkbox\" id='check-box' checked={isChecked} \n        onChange={handleCheckboxChange} />\n                <label className='text-base font-gilroyLight leading-5 ' for=\"check-box\">Я согласен с политикой конфиденциальности</label>\n            </div>\n            <FormButton text='Отправить' fun={handleSubmit} disabled={formSubmit}/>\n            {showModal && (\n            <Modal \n                message=\"Ваша заявка успешно отправлена!\" \n                onClose={() => setShowModal(false)} \n            />\n        )}\n        </div>\n    )\n}\n\nexport default GetInTouch"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}