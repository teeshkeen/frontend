{"ast":null,"code":"var _jsxFileName = \"/root/frontend/src/pages/home/ui/catalog/Catalog.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { categoryAPI } from '../../../../shared/services/api';\nimport BlockTitle from '../../../../shared/ui/BlockTitle';\nimport CatalogCard from '../../../../features/catalog/ui/CatalogCard';\nimport CatalogNav from '../catalog/ui/CatalogNav';\nimport { useNavigate } from 'react-router-dom';\nimport Button from '../../../../shared/ui/Button';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Catalog = () => {\n  _s();\n  const [categories, setCategories] = useState([]);\n  const [error, setError] = useState(null);\n  const [visibleCount, setVisibleCount] = useState(5); // Количество видимых карточек\n  const navigate = useNavigate();\n  useEffect(() => {\n    loadCategories();\n  }, []);\n  const loadCategories = async () => {\n    try {\n      const response = await categoryAPI.getCategories();\n      setCategories(response.data.categories);\n    } catch (error) {\n      console.error('Error loading categories:', error);\n      setError('Ошибка загрузки категорий');\n    }\n  };\n  const handleCardClick = id => {\n    navigate(`/nomenclature/${id}`);\n  };\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-red-500\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 12\n    }, this);\n  }\n  const handleShowMore = () => {\n    setVisibleCount(prevCount => prevCount + 5); // Увеличиваем количество видимых карточек\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"catalog\",\n    className: \"mb-14 768:mb-24\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-5\",\n      children: /*#__PURE__*/_jsxDEV(BlockTitle, {\n        children: \"\\u041A\\u0430\\u0442\\u0430\\u043B\\u043E\\u0433\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"1280:flex 1280:flex-row 1280:items-start 1280:gap-14 mb-[30px]\",\n      children: [/*#__PURE__*/_jsxDEV(CatalogNav, {\n        styles: \"hidden 1280:flex\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"catalogCards\",\n        className: \"grid grid-cols-1 768:grid-cols-2 1280:grid-cols-3 gap-5 auto-rows-fr\",\n        children: categories.slice(0, visibleCount).map(category => /*#__PURE__*/_jsxDEV(\"div\", {\n          onClick: () => handleCardClick(category.id),\n          children: [/*#__PURE__*/_jsxDEV(CatalogCard, {\n            name: category.name,\n            title: category.name,\n            cost: category.cost,\n            imageUrl: category.imageUrl\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 13\n          }, this), \" \"]\n        }, category.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 11\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"768:flex 768:justify-center\",\n      children: visibleCount < categories.length && /*#__PURE__*/_jsxDEV(Button, {\n        text: 'Показать еще',\n        onClick: handleShowMore\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n};\n_s(Catalog, \"gYMjhsjGopSjg+mqbB5Zasfwj2w=\", false, function () {\n  return [useNavigate];\n});\n_c = Catalog;\nexport default Catalog;\nvar _c;\n$RefreshReg$(_c, \"Catalog\");","map":{"version":3,"names":["React","useState","useEffect","categoryAPI","BlockTitle","CatalogCard","CatalogNav","useNavigate","Button","jsxDEV","_jsxDEV","Catalog","_s","categories","setCategories","error","setError","visibleCount","setVisibleCount","navigate","loadCategories","response","getCategories","data","console","handleCardClick","id","className","children","fileName","_jsxFileName","lineNumber","columnNumber","handleShowMore","prevCount","styles","slice","map","category","onClick","name","title","cost","imageUrl","length","text","_c","$RefreshReg$"],"sources":["/root/frontend/src/pages/home/ui/catalog/Catalog.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { categoryAPI } from '../../../../shared/services/api';\nimport BlockTitle from '../../../../shared/ui/BlockTitle';\nimport CatalogCard from '../../../../features/catalog/ui/CatalogCard';\nimport CatalogNav from '../catalog/ui/CatalogNav'\nimport { useNavigate } from 'react-router-dom';\nimport Button from '../../../../shared/ui/Button';\nconst Catalog = () => {\n  const [categories, setCategories] = useState([]);\n  const [error, setError] = useState(null);\n  const [visibleCount, setVisibleCount] = useState(5); // Количество видимых карточек\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    loadCategories();\n  }, []);\n\n  const loadCategories = async () => {\n    try {\n      const response = await categoryAPI.getCategories();\n      setCategories(response.data.categories);\n    } catch (error) {\n      console.error('Error loading categories:', error);\n      setError('Ошибка загрузки категорий');\n    }\n  };\n\n  const handleCardClick = (id) => {\n    navigate(`/nomenclature/${id}`);\n  };\n\n  if (error) {\n    return <div className=\"text-red-500\">{error}</div>;\n  }\n\n  const handleShowMore = () => {\n    setVisibleCount(prevCount => prevCount + 5); // Увеличиваем количество видимых карточек\n  };\n  return (\n    <div id='catalog' className='mb-14 768:mb-24'>\n    <div className='mb-5'>\n      <BlockTitle>Каталог</BlockTitle>\n    </div>\n    <div className=\"1280:flex 1280:flex-row 1280:items-start 1280:gap-14 mb-[30px]\">\n      <CatalogNav styles='hidden 1280:flex'/>\n      <div id='catalogCards' className='grid grid-cols-1 768:grid-cols-2 1280:grid-cols-3 gap-5 auto-rows-fr'>\n                      {\n\n                      categories.slice(0, visibleCount).map(category => (\n          <div key={category.id} onClick={() => handleCardClick(category.id)}>\n            <CatalogCard name={category.name} title={category.name} cost={category.cost} imageUrl={category.imageUrl} /> {/* Pass category name and image to CatalogCard */}\n          </div>\n        ))}\n\n    </div>\n\n    </div>\n    <div className=\"768:flex 768:justify-center\">\n    {visibleCount < categories.length && (\n            <Button text={'Показать еще'} onClick={handleShowMore}/>\n          )}\n    </div>\n  </div>\n    \n  );\n};\n\nexport default Catalog;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,WAAW,QAAQ,iCAAiC;AAC7D,OAAOC,UAAU,MAAM,kCAAkC;AACzD,OAAOC,WAAW,MAAM,6CAA6C;AACrE,OAAOC,UAAU,MAAM,0BAA0B;AACjD,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,OAAOC,MAAM,MAAM,8BAA8B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAClD,MAAMC,OAAO,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACpB,MAAM,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAGb,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAACc,KAAK,EAAEC,QAAQ,CAAC,GAAGf,QAAQ,CAAC,IAAI,CAAC;EACxC,MAAM,CAACgB,YAAY,EAAEC,eAAe,CAAC,GAAGjB,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;EACrD,MAAMkB,QAAQ,GAAGZ,WAAW,CAAC,CAAC;EAE9BL,SAAS,CAAC,MAAM;IACdkB,cAAc,CAAC,CAAC;EAClB,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMA,cAAc,GAAG,MAAAA,CAAA,KAAY;IACjC,IAAI;MACF,MAAMC,QAAQ,GAAG,MAAMlB,WAAW,CAACmB,aAAa,CAAC,CAAC;MAClDR,aAAa,CAACO,QAAQ,CAACE,IAAI,CAACV,UAAU,CAAC;IACzC,CAAC,CAAC,OAAOE,KAAK,EAAE;MACdS,OAAO,CAACT,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC;MACjDC,QAAQ,CAAC,2BAA2B,CAAC;IACvC;EACF,CAAC;EAED,MAAMS,eAAe,GAAIC,EAAE,IAAK;IAC9BP,QAAQ,CAAC,iBAAiBO,EAAE,EAAE,CAAC;EACjC,CAAC;EAED,IAAIX,KAAK,EAAE;IACT,oBAAOL,OAAA;MAAKiB,SAAS,EAAC,cAAc;MAAAC,QAAA,EAAEb;IAAK;MAAAc,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CAAC;EACpD;EAEA,MAAMC,cAAc,GAAGA,CAAA,KAAM;IAC3Bf,eAAe,CAACgB,SAAS,IAAIA,SAAS,GAAG,CAAC,CAAC,CAAC,CAAC;EAC/C,CAAC;EACD,oBACExB,OAAA;IAAKgB,EAAE,EAAC,SAAS;IAACC,SAAS,EAAC,iBAAiB;IAAAC,QAAA,gBAC7ClB,OAAA;MAAKiB,SAAS,EAAC,MAAM;MAAAC,QAAA,eACnBlB,OAAA,CAACN,UAAU;QAAAwB,QAAA,EAAC;MAAO;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAY;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC7B,CAAC,eACNtB,OAAA;MAAKiB,SAAS,EAAC,gEAAgE;MAAAC,QAAA,gBAC7ElB,OAAA,CAACJ,UAAU;QAAC6B,MAAM,EAAC;MAAkB;QAAAN,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAC,CAAC,eACvCtB,OAAA;QAAKgB,EAAE,EAAC,cAAc;QAACC,SAAS,EAAC,sEAAsE;QAAAC,QAAA,EAGvFf,UAAU,CAACuB,KAAK,CAAC,CAAC,EAAEnB,YAAY,CAAC,CAACoB,GAAG,CAACC,QAAQ,iBAC1D5B,OAAA;UAAuB6B,OAAO,EAAEA,CAAA,KAAMd,eAAe,CAACa,QAAQ,CAACZ,EAAE,CAAE;UAAAE,QAAA,gBACjElB,OAAA,CAACL,WAAW;YAACmC,IAAI,EAAEF,QAAQ,CAACE,IAAK;YAACC,KAAK,EAAEH,QAAQ,CAACE,IAAK;YAACE,IAAI,EAAEJ,QAAQ,CAACI,IAAK;YAACC,QAAQ,EAAEL,QAAQ,CAACK;UAAS;YAAAd,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,KAAC;QAAA,GADrGM,QAAQ,CAACZ,EAAE;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAEhB,CACN;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAED,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAED,CAAC,eACNtB,OAAA;MAAKiB,SAAS,EAAC,6BAA6B;MAAAC,QAAA,EAC3CX,YAAY,GAAGJ,UAAU,CAAC+B,MAAM,iBACzBlC,OAAA,CAACF,MAAM;QAACqC,IAAI,EAAE,cAAe;QAACN,OAAO,EAAEN;MAAe;QAAAJ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAC;IACxD;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACF,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAGR,CAAC;AAACpB,EAAA,CA1DID,OAAO;EAAA,QAIMJ,WAAW;AAAA;AAAAuC,EAAA,GAJxBnC,OAAO;AA4Db,eAAeA,OAAO;AAAC,IAAAmC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}